# Руководство по верстке страницы из дизайн-макета Figma

## Содержание

1. [x] [Введение](#введение)
2. [ ] [Шаг 1: Подготовка](#шаг-1-подготовка)
3. [ ] [Шаг 2: Настройка окружения](#шаг-2-настройка-окружения)
4. [ ] [Шаг 3: Извлечение данных из Figma макета](#шаг-3-извлечение-данных-из-figma-макета)
5. [ ] [Шаг 4: Оптимизация изображений](#шаг-4-оптимизация-изображений)
6. [ ] [Шаг 5: Верстка](#шаг-5-верстка)
   - [ ] [Создайте структуру HTML](#создайте-структуру-html)
   - [ ] [Добавьте нужные страницы в data.js](#добавьте-нужные-страницы-в-datajs)
   - [ ] [Настройка файлов страниц](#настройка-файлов-страниц)
   - [ ] [Настройка файла pageConfig.js](#настройка-файла-pageconfigjs)
   - [ ] [Работа с компонентами и их данными](#работа-с-компонентами-и-их-данными)
7. [ ] [Заключение](#заключение)

## Введение

[В начало](#содержание)

Верстка страницы по дизайн-макету из Figma — это важный этап в разработке веб-приложений. В этом руководстве мы рассмотрим основные шаги, которые необходимо выполнить, чтобы успешно сверстать страницу.

## Шаг 1: Подготовка

[В начало](#содержание)

1. **Получите доступ к макету**: Убедитесь, что у вас есть доступ к проекту в Figma. Запросите у дизайнера необходимые права, если это необходимо.
2. **Изучите макет**: Внимательно просмотрите все экраны и элементы дизайна. Обратите внимание на размеры, отступы, шрифты и цвета.

## Шаг 2: Настройка окружения

[В начало](#содержание)

1. **Создайте проект**: Создайте новую папку для вашего проекта и инициализируйте его с помощью системы сборки (например, Vite, Webpack).
2. **Инициализируйте Git**: В корне вашего проекта выполните команду `git init`, чтобы создать новый репозиторий Git.
3. **Установите необходимые зависимости**: Убедитесь, что у вас установлены все необходимые библиотеки и фреймворки (например, React, Vue, или просто HTML/CSS). Выполните команду `npm install`.
4. **Настройка Tailwind CSS**:
   - Настройте файл `tailwind.config.cjs`, добавив пути к контенту и необходимые стили. Убедитесь, что все файлы, в которых вы будете использовать классы Tailwind, указаны в массиве `content`. Также добавьте шрифты и цвета, указанные в дизайн-макете, в раздел `theme.extend`.
5. **Подключение шрифтов**:
   - **Если шрифт доступен через CDN**: Например, для шрифта "Inter" вы можете добавить следующую строку в секцию `<head>` вашего HTML-документа:
     ```html
     <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
     ```
     После этого вы можете использовать шрифт в вашем проекте, применяя классы Tailwind, например, `class="font-sans"`.
   - **Если шрифт недоступен через CDN**: Скачайте файл шрифта (например, `.woff`, `.woff2`, `.ttf`) и поместите его в папку вашего проекта (например, в папку `fonts`). Затем используйте `@font-face` в вашем CSS-файле для подключения шрифта:
     ```css
     @font-face {
       font-family: "Inter";
       src: url("./fonts/Inter-Regular.woff2") format("woff2"), url("./fonts/Inter-Regular.woff") format("woff");
       font-weight: 400;
       font-style: normal;
     }
     ```
     После этого вы можете использовать шрифт в вашем проекте, применяя классы Tailwind.

## Шаг 3: Извлечение данных из Figma макета

[В начало](#содержание)

1. **Настройка API ключей**: Убедитесь, что у вас есть необходимые ключи API для доступа к Figma. Создайте файл `keys.js` в корне вашего проекта и добавьте в него следующие строки:

   ```javascript
   export default {
     API: "ваш_ключ_API",
     FILE: "ваш_ключ_файла",
     PAGE: "имя_страницы",
   };
   ```

   Замените `ваш_ключ_API`, `ваш_ключ_файла` и `имя_страницы` на соответствующие значения.

2. **Запуск скрипта**: Убедитесь, что у вас установлен Node.js. Затем выполните команду для запуска скрипта `figma.js`, который извлечет данные из вашего Figma макета:
   ```bash
   node assets/figma.js
   ```
   Этот скрипт выполнит следующие действия:
   - Получит данные из Figma API.
   - Найдет указанную страницу в документе.
   - Извлечет текстовые элементы, изображения и векторные иконки.
   - Сохранит извлеченные текстовые данные в файл `extractedText.json`.
   - Загрузит изображения и иконки в соответствующие директории (`images` и `icons`).

## Шаг 4: Оптимизация изображений

[В начало](#содержание)

1. **Запуск скрипта для оптимизации**: После извлечения данных и загрузки изображений, вы можете оптимизировать их с помощью скрипта `nodeWebp.js`. Убедитесь, что у вас установлен пакет `sharp`, если он еще не установлен:
   ```bash
   npm install sharp
   ```
2. **Запуск скрипта**: Выполните команду для запуска скрипта `nodeWebp.js`, который сожмет изображения и создаст их версии в формате WebP:

   ```bash
   node assets/nodeWebp.js
   ```

   Этот скрипт выполнит следующие действия:

   - Найдет все изображения в указанной директории.
   - Сожмет изображения в оригинальных форматах (JPEG, PNG).
   - Создаст версии изображений в формате WebP с заданным качеством.

3. **Создание спрайта иконок**: Если вы работаете с _WordPress_, создайте спрайт иконок. Для этого выполните `npm run build`, чтобы сгенерировать спрайт. Vite добавляет хэш к пути спрайта, поэтому он не будет работать корректно в WordPress. Убедитесь, что вы сгенерировали спрайт заранее, чтобы он работал корректно.

## Шаг 5: Верстка

[В начало](#содержание)

1. **Создайте структуру HTML**: Начните с создания базовой структуры HTML. Используйте семантические теги для улучшения доступности.

2. **Добавьте нужные страницы в `data.js`**: Убедитесь, что все страницы, которые вы хотите использовать, добавлены в файл `data.js`. Например, если у вас есть страницы `about` и `contact`, импортируйте их в `data.js` и добавьте в объект `contextData`:

   ```javascript
   import indexPage from "./pages/index";
   import aboutPage from "./pages/about";
   import contactPage from "./pages/contact";

   export const contextData = {
     "/index.html": { ...indexPage },
     "/about.html": { ...aboutPage },
     "/contact.html": { ...contactPage },
   };
   ```

   Это позволит вам динамически подставлять данные для каждой страницы в вашем проекте.

3. **Настройка файлов страниц**: Для каждой новой страницы, которую вы добавляете, создайте соответствующий файл в папке `src/data/pages`. Например, для страницы `about` создайте файл `about.js` и импортируйте необходимые секции и макеты, аналогично тому, как это сделано в `index.js`. Убедитесь, что вы правильно настраиваете метаданные и структуру, чтобы они соответствовали требованиям вашего проекта. Например, в файле `about.js` замените все вхождения `indexPage` на `aboutPage`.

[В начало](#содержание)

4. **Настройка файла `pageConfig.js`**: Этот файл служит для управления настройками страниц в вашем приложении. Он содержит метаданные, параметры макета и видимость секций для различных страниц, таких как `indexPage` и `aboutPage`. Структура файла включает:

   - **meta**: Объект, содержащий метаданные страницы, такие как заголовок, описание, фавикон и изображения для Open Graph.
   - **layout**: Объект, определяющий, какие компоненты макета отображаются на странице (например, заголовок, подвал, модальные окна).
   - **sections**: Объект, указывающий, какие секции активны на каждой странице (например, герой, карточки, форма). Порядок секций определяется в объекте `sections`.

   Файлы `sections.js` и `layout.js` содержат импорты всех шаблонов, которые используются в вашем приложении. `pageConfig.js` управляет их отображением, определяя, какие секции и макеты должны быть активны для каждой страницы.

5. **Работа с компонентами и их данными**:

   - Каждый компонент, такой как `hero.js`, `menu.js`, и другие, содержит данные и настройки, которые будут использоваться в соответствующих шаблонах. Например, в `hero.js` определяются заголовок, описание и классы для секции "Hero".
   - Импортируйте данные из компонентов в соответствующие шаблоны. Объект с данными секции передается в шаблоне main, объект с данными layout передается в шаблон на уровне страницы. Например, в шаблоне `hero.html` используйте данные из `hero.js`:
     ```html
     <h1 class="{{heading.class.title}}">{{heading.title}}</h1>
     <p class="{{heading.class.description}}">{{heading.description}}</p>
     ```
   - Аналогично, другие компоненты, такие как `menu.js`, могут быть использованы в своих шаблонах, чтобы динамически отображать данные, например, элементы меню.
   - Убедитесь, что все данные правильно отображаются и соответствуют дизайну, протестировав компоненты на различных устройствах и в разных браузерах.
   - Сложные компоненты, такие как `slider.html`, могут содержать в себе простые компоненты, такие как `slide.html`, `slider-controls.html`, `slider-dots.html`.

[В начало](#содержание)

   - **Работа с компонентами Handlebars**:
     Handlebars — это шаблонизатор, который позволяет динамически генерировать HTML-код. Он использует синтаксис, основанный на фигурных скобках, для вставки данных в шаблоны. Вот основные элементы синтаксиса и примеры использования:

     1. **Переменные**: Для вывода значений переменных используется синтаксис `{{variableName}}`.

        ```html
        <h1>{{title}}</h1>
        ```

     2. **Условия**: Для условного отображения контента используется конструкция `{{#if condition}} ... {{/if}}`.

        ```html
        {{#if isLoggedIn}}
        <p>Добро пожаловать, {{username}}!</p>
        {{else}}
        <p>Пожалуйста, войдите в систему.</p>
        {{/if}}
        ```

     3. **Циклы**: Для перебора массивов используется конструкция `{{#each array}} ... {{/each}}`.

        ```html
        <ul>
          {{#each items}}
          <li>{{this}}</li>
          {{/each}}
        </ul>
        ```

     4. **Частичные шаблоны**: Для повторного использования кода можно создавать частичные шаблоны с помощью `{{> partialName}}`.

        ```html
        {{> header}}
        ```

     5. **Помощники**: Handlebars позволяет создавать пользовательские помощники для выполнения логики. Например, можно создать помощник для форматирования даты.
        ```javascript
        Handlebars.registerHelper("formatDate", function (date) {
          return new Date(date).toLocaleDateString();
        });
        ```
        Все помощники хранятся в файле `assets/Hbs-helpers.js`. Чтобы они работали, необходимо импортировать этот файл в `vite.config.js`.

     Эти примеры демонстрируют, как использовать Handlebars для создания динамических и адаптивных компонентов в вашем проекте.

[В начало](#содержание)

6. **Проверьте адаптивность**: Убедитесь, что ваша верстка корректно отображается на различных устройствах. Используйте медиа-запросы для адаптации стилей.

7. **Тестирование**: Проверьте страницу в различных браузерах и на разных устройствах, чтобы убедиться, что все работает корректно.

8. **Завершение**:
   - **Оптимизация**: Оптимизируйте изображения и другие ресурсы для улучшения производительности.
   - **Код-ревью**: Попросите коллег просмотреть ваш код и дать обратную связь.
   - **Деплой**: Разверните вашу страницу на сервере или платформе для хостинга.

## Заключение

Следуя этим шагам, вы сможете успешно сверстать страницу по дизайн-макету из Figma. Не забывайте общаться с дизайнерами и разработчиками, чтобы уточнять детали и получать помощь при необходимости.
